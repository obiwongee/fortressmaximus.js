String.prototype.ucwords=function(){return str=this.toLowerCase(),str.replace(/(^([a-zA-Z\p{M}]))|([ -][a-zA-Z\p{M}])/g,function(e){return e.toUpperCase()})},$(document).ready(function(){$.ajax({url:"http://dev.fortressmaximus.com/api/cards"}).done(function(e){for(var t=JSON.parse(e),i={},a=0;a<t.length;a++){var s=t[a];i[s.name.toLowerCase()]={slug:s.slug,image:s.image,image2:s.image2,image3:s.image3}}$("body").html($("body").html().replace(/\[\[([A-Za-z\-\' ]*)\]\]/g,(e,t)=>generateLinks(e,t,i))),imagePreview()})}),generateLinks=function(e,t,i){return i.hasOwnProperty(t.toLowerCase())?getLink(t,i[t.toLowerCase()]):e},getLink=function(e,t){var i="https://fortressmaximus.io/card/"+t.slug,a=t.image,s=t.image2||null,r=t.image3||null;return $("<a>",{text:e.ucwords(),class:"preview",href:i,"data-image":a,"data-image2":s,"data-image3":r})[0].outerHTML},imagePreview=function(){$("a.preview").hover(function(e){this.t=this.title,this.title="";""!=this.t&&this.t;var t,i=$("<div>",{id:"preview"});null!==$(this).data("image")&&((t=$("<img>",{src:$(this).data("image")})).css("height","300px"),i.append(t));null!==$(this).data("image2")&&((t=$("<img>",{src:$(this).data("image2")})).css("height","300px"),i.append(t));null!==$(this).data("image3")&&((t=$("<img>",{src:$(this).data("image3")})).css("height","300px"),i.append(t));var a=$(this).offset().left,s=$(this).offset().top,r=a+$(this).width()/2,n=s+$(this).height()/2;i.css("top",n+20).css("left",r-50).css("position","absolute").css("z-index",100).fadeIn("fast"),$("body").append(i)},function(){this.title=this.t,$("#preview").remove()})};